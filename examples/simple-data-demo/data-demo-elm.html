<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <!-- Load the Javascript library for our board game framework -->
    <script type="text/javascript" src="lib/boardgameframework.js"></script>
    <!-- Load our Elm app -->
    <script type="text/javascript" src="data-demo-elm.js"></script>
    </head>
    <body>
        <div id="app"></div>
    </body>
    <script type="text/javascript">
        // Insert our Elm app into the page
        var app = Elm.Main.init({
            node: document.getElementById('app')
        });

        // Link incoming envelopes to our app
        boardgameframework.toapp = function(env) {
            console.log("Framework sent: " + JSON.stringify(env));
            app.ports.incoming.send(env);
        };

        // List out for data coming out of our Elm app
        app.ports.outgoing.subscribe(function(data) {
            console.log("Elm sent: " + JSON.stringify(data));
            boardgameframework.act(data);
        });
    </script>
</html>
